<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reimbursement Portal</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    .hidden { display: none; }
    .form-section { margin-bottom: 2rem; }
    label { display: block; margin-top: 1rem; }
    input, select, textarea { width: 100%; padding: 0.5rem; margin-top: 0.3rem; }
    button { padding: 0.5rem 1rem; margin-top: 1rem; }
    .receipt-entry { margin-bottom: 1rem; padding: 1rem; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Reimbursement Portal</h1>

  <div id="menu">
    <button onclick="showForm()">Submit Request</button>
    <button onclick="showStatus()">Check Status</button>
  </div>

  <div id="form" class="hidden">
    <h2>Submit Reimbursement Request</h2>
    <form id="reimbursementForm">
      <div class="form-section">
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" required>

        <label for="iban">IBAN</label>
        <input type="text" id="iban" pattern="[A-Z]{2}\d{2}[A-Z0-9]{1,30}" required>

        <label for="bic">BIC</label>
        <input type="text" id="bic" required>

        <label for="bankName">Bank Name</label>
        <input type="text" id="bankName" required>

        <label for="address">Address</label>
        <textarea id="address" required></textarea>

        <label for="email">Email Address</label>
        <input type="email" id="email" required>

       <label for="projectNumber">Project Number</label>
<input list="projectNumbers" id="projectNumber" required
       placeholder="Start typing or click to browse">

<datalist id="projectNumbers">
  <!-- value shown & submitted; full text helps users choose -->
  <option value="P0022 – Doc.CH / A Poetics of Decolonization – Devarya SRIVASTAVA">
  <option value="P0023 – Doc.CH / Welfare in a Peculiar State – Edouard ZELLER">
  <option value="P0024 – Doc.CH / Health as a Form of Politics in North India – Robert Dean SMITH">
  <option value="P0026 – Doc.CH / The Natures of Displacement – Théo LEFORT">
  <option value="P0037 – KAF / Understanding the Links Between Multilateralism and Democracy – Christine LUTRINGER">
  <option value="P0072 – SNSF / Elites and Democracy – Graziella MORAES DIAS DA SILVA">
  <option value="P0110 – ZHAW / Local Environmental Democracy and Green Transitions – Christine LUTRINGER">
  <option value="P0153 – Spark / Beyond Bare Life – Anne-Line RODRIGUEZ">
  <option value="P0178 – FNS / Migration, Institutions and Cultural Change – Martina VIARENGO">
  <option value="P0189 – AHCD 2025 – Christine LUTRINGER">
  <option value="P0216 – Agora / Imaging Invisibilities – Patricia SPYER">
  <option value="P0261 – UE-MCSA Border Contestations 101209730 – Umut YILDIRIM">
  <option value="S2167 – Images, (In)visibilities and Work on Appearances – Patricia SPYER">
  <option value="S2180 – FNS / How Elites Shape Unequal Democracies – Graziella MORAES DIAS DA SILVA">
  <option value="S2317 – Ambizione / Raja and Praja – Tripurdaman SINGH">
  <option value="S2319 – Eccellenza / Quiet Aid – Till MOSTOWLANSKY">
  <option value="S2334 – NCCR / The Impact of Crises on the Global Governance of Migration – Vincent CHETAIL">
  <option value="S2335 – Doc.CH / The Forgotten Generation – Michele BENAZZO">
  <option value="S2338 – Doc.CH / Forced Migration and Transnational Activism – Gina WIRZ">
  <option value="S2340 – NCCR / The Longitudinal Impact of Crises – Martina VIARENGO">
  <option value="S2343 – SNSF / Labor Market Changes and Gender Polarization – Sung Min RHO">
  <option value="S2355 – FNS / Defending Democracy in the European Union – Grégoire MALLARD">
  <option value="S3704 – SNIS / Democracy and Redistribution in the Global South – Matias LOPEZ">
  <option value="S3765 – Salvia / Youth Climate Activism and Local Institutions – Christine LUTRINGER">
</datalist>
      </div>

      <div id="receipts"></div>
      <button type="button" onclick="addReceipt()">Add Receipt</button>

      <button type="submit">Submit</button>
    </form>
    <div id="referenceNumber" class="hidden"></div>
  </div>

  <div id="status" class="hidden">
    <h2>Check Request Status</h2>
    <label for="statusRef">Reference Number</label>
    <input type="text" id="statusRef">
    <button onclick="checkStatus()">Check</button>
    <div id="statusResult"></div>
  </div>

  <script>
    function showForm() {
      document.getElementById('form').classList.remove('hidden');
      document.getElementById('status').classList.add('hidden');
    }

    function showStatus() {
      document.getElementById('status').classList.remove('hidden');
      document.getElementById('form').classList.add('hidden');
    }

    function addReceipt() {
      const container = document.createElement('div');
      container.classList.add('receipt-entry');
      container.innerHTML = `
        <label>Upload Receipt (PDF or PNG)</label>
        <input type="file" accept=".pdf,.png" required>

        <label>Currency</label>
        <input type="text" placeholder="e.g., CHF" required>

        <label>Amount</label>
        <input type="number" step="0.01" required>
      `;
      document.getElementById('receipts').appendChild(container);
    }

    document.getElementById('reimbursementForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const ref = 'REF' + Math.floor(Math.random() * 1000000);
      document.getElementById('referenceNumber').innerText = 'Request submitted. Your reference number is: ' + ref;
      document.getElementById('referenceNumber').classList.remove('hidden');
      document.getElementById('reimbursementForm').reset();
      document.getElementById('receipts').innerHTML = '';
    });

    function checkStatus() {
      const ref = document.getElementById('statusRef').value;
      document.getElementById('statusResult').innerText = `Status for ${ref}: Pending Review.`;
    }
  </script>
</body>
</html>
